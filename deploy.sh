################################################## Build #####################################################
npm install
npm run build
################################################################################################################

###################################### Cloudformation Execution Role ############################################
CFN_EXECUTION_ROLE="arn:aws:iam::$AWS_ACCOUNT_NUMBER:role/git-action-cf-execution-role"
##################################################################################################################

############################################## CDK Bootstrap & Deploy ############################################
cdk synth -r $CFN_EXECUTION_ROLE

cdk diff -r $CFN_EXECUTION_ROLE

cdk deploy \* -r $CFN_EXECUTION_ROLE --require-approval never
###################################################################################################################